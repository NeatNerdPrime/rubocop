= Integration with Other Tools

== Speeding up integrations

RuboCop integrates with many other tools, including editors which may call
`rubocop` repeatedly. Since `rubocop` has to require its entire environment on
each invocation, this can result in noticeable slowness.

The recommended solution is RuboCop's built-in xref:usage/server.adoc[Server]
mode, which keeps a daemonized process running so that subsequent runs avoid
the boot time overhead.

NOTE: RuboCop's built-in xref:usage/caching.adoc[caching] should also be used to ensure
that source files that have not been changed are not being re-evaluated unnecessarily.

== Editor integration

All popular editors provide some form of linter integration. Typically this is done
either via LSP (if supported by the underlying server) or by shelling out to a linter and processing its output so it could be displayed inside the editor.

As noted above, the `rubocop` binary starts relatively slowly which makes it problematic in the shelling out case. The RuboCop xref:usage/server.adoc["Server"] functionality
has been designed to address this problem and provide lightning-fast editor integration.

=== LSP

RuboCop includes a built-in https://microsoft.github.io/language-server-protocol/[Language Server Protocol] server (since 1.53), which is the recommended way to integrate with editors. See xref:usage/lsp.adoc[LSP] for details.

The following LSP clients and servers use RuboCop for linting and formatting:

- https://github.com/Shopify/ruby-lsp[Ruby LSP] (recommended for VS Code) — uses RuboCop internally
- https://github.com/rubocop/vscode-rubocop[vscode-rubocop] — dedicated VS Code extension using RuboCop's built-in LSP
- https://solargraph.org/[Solargraph] — uses RuboCop internally

=== MCP

RuboCop also provides a built-in https://modelcontextprotocol.io/[Model Context Protocol] server (since 1.75) for integration with AI-powered tools. See xref:usage/mcp.adoc[MCP] for details.

=== Emacs

https://github.com/rubocop/rubocop-emacs[rubocop.el] is a simple
Emacs interface for RuboCop. It allows you to run RuboCop inside Emacs
and quickly jump between problems in your code.

https://github.com/flycheck/flycheck[flycheck] > 0.9 also supports
RuboCop and uses it by default when available.

=== Vim

RuboCop is supported by
https://github.com/vim-syntastic/syntastic[syntastic],
https://github.com/neomake/neomake[neomake],
and https://github.com/dense-analysis/ale[ale].

There is also the https://github.com/ngmy/vim-rubocop[vim-rubocop] plugin.

=== Helix

Helix supports Solargraph natively to provide LSP features. For formatting support, see the https://github.com/helix-editor/helix/wiki/Formatter-configurations#rubocop[Formatter Configurations for RuboCop] to use either your bundled or globally installed version of RuboCop.

=== Sublime Text

For ST you might find the
https://github.com/SublimeLinter/SublimeLinter-rubocop[SublimeLinter-rubocop] or the
https://github.com/pderichs/sublime_rubocop[Sublime RuboCop] plugin useful.

You may also consider using one of the LSP servers mentioned above which utilize RuboCop by using the https://github.com/sublimelsp/LSP[Sublime-LSP] plugin and follow its https://lsp.sublimetext.io/language_servers/#ruby-ruby-on-rails[documentation] for configuration.

=== TextMate2

The https://github.com/mrdougal/textmate2-rubocop[textmate2-rubocop]
bundle displays formatted RuboCop results in a new window.
Installation instructions can be found https://github.com/mrdougal/textmate2-rubocop#installation[here].

=== RubyMine / Intellij IDEA

RuboCop support is https://www.jetbrains.com/help/ruby/rubocop.html[built-in].

=== Visual Studio Code

The recommended option is https://marketplace.visualstudio.com/items?itemName=Shopify.ruby-lsp[Ruby LSP] which uses RuboCop for linting and formatting via the xref:usage/lsp.adoc[built-in LSP]. There is also the dedicated https://marketplace.visualstudio.com/items?itemName=rubocop.vscode-rubocop[vscode-rubocop] extension.

=== Other Editors

Here's one great opportunity to contribute to RuboCop - implement
RuboCop integration for your favorite editor.

== Git pre-commit hook integration with overcommit

https://github.com/sds/overcommit[overcommit] is a fully configurable and
extendable Git commit hook manager. To use RuboCop with overcommit, add the
following to your `.overcommit.yml` file:

[source,yaml]
----
PreCommit:
  RuboCop:
    enabled: true
----

== Git pre-commit hook integration with pre-commit

https://pre-commit.com/[pre-commit] is a framework for managing and maintaining
multi-language pre-commit hooks. To use RuboCop with pre-commit, add the
following to your `.pre-commit-config.yaml` file:

[source,yaml]
----
- repo: https://github.com/rubocop/rubocop
  rev: v1.84.2
  hooks:
    - id: rubocop
----

If your RuboCop configuration uses extensions, be sure to include the gems as
entries in `additional_dependencies`:

[source,yaml]
----
- repo: https://github.com/rubocop/rubocop
  rev: v1.84.2
  hooks:
    - id: rubocop
      additional_dependencies:
        - rubocop-rails
        - rubocop-rspec
----

RuboCop supports pre-commit hook integration since version 1.9.

== Guard integration

If you're fond of https://github.com/guard/guard[Guard] you might
like
https://github.com/rubocop/guard-rubocop[guard-rubocop]. It
allows you to automatically check Ruby code style with RuboCop when
files are modified.

== Mega-Linter integration

You can use https://megalinter.io/latest/[Mega-Linter]
to run RuboCop automatically on every PR, and also lint all file
types detected in your repository.

Please follow the
https://megalinter.io/latest/install-assisted[installation instructions]
to activate RuboCop without any additional configuration.

https://megalinter.io/latest/flavors/ruby/[Mega-Linter's Ruby flavor]
is optimized for Ruby linting.

== Rake integration

To use RuboCop in your `Rakefile` add the following:

[source,ruby]
----
require 'rubocop/rake_task'

RuboCop::RakeTask.new
----

If you run `rake -T`, the following two RuboCop tasks should show up:

[source,sh]
----
$ rake rubocop                                 # Run RuboCop
$ rake rubocop:autocorrect                     # Autocorrect RuboCop offenses
----

The above will use default values

[source,ruby]
----
require 'rubocop/rake_task'

desc 'Run RuboCop on the lib directory'
RuboCop::RakeTask.new(:rubocop) do |task|
  task.patterns = ['lib/**/*.rb']
  # only show the files with failures
  task.formatters = ['files']
  # don't abort rake on failure
  task.fail_on_error = false
end
----
